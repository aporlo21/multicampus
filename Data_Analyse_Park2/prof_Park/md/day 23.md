# day 23



행렬식이 기하학적으로 무슨의밀갖느냐!



iloc, loc 모두 행, 열 을 지정하여 Data를 획득한다.

```py
df.iloc[[행],[열]]    # Data의 행 번호 활용, integer만 가능

df.loc[[행],[열]]        # DataFrame index 활용, 아무 것이나 활용 가능
```



placeholder 

iloc

map

merge 



텐서

물리학에서는 자연현상을 설명하기 위해 거의 필수적으로 좌표계를 도입해서 시간과 공간에 숫자를 부여하고 이 숫자들 간의 관계로 법칙을 설명한다

시공간 개념과 아무 관계가 없어보이는 것들 (전하량, 질량 등) 도 곰곰히 생각해보면 그 양이나 효과를 측정하거나 이해하기 위해 시간에 따라 공간을 어떻게 이동하는지, 즉 가속도가 생기는지 위치가 변하는지 등으로 특성을 파악한다는 것을 알 수 있다



isin() - 반환값 : df내 각각의 요소가 값에 포함되어 있는 지 여부를 보여주는 불린형의 df



즉 내가 만든 커스텀 함수(custom function)를 DataFrame에 적용하려면 `map`함수, `apply`함수, `applymap`함수를 사용하면 된다. 

### map함수

map함수는 DataFrame 타입이 아니라, 반드시 Series 타입에서만 사용해야 한다.
먼저, Series를 한마디로 정의하면 딱 이거다.

**값(value) + 인덱스(index) = 시리즈 클래스(Series)**

Series는 NumPy에서 제공하는 1차원 배열과 비슷하지만 각 데이터의 의미를 표시하는 인덱스(index)를 붙일 수 있다. 하지만 데이터 자체는 그냥 값(value)의 1차원 배열이다.

`map`함수는 Series의 이러한 값 하나하나에 접근하면서 해당 함수를 수행한다.

### apply함수

커스텀 함수를 사용하기 위해 DataFrame에서 복수 개의 컬럼이 필요하다면, `apply`함수를 사용해야 한다. 커스텀 함수를 아래와 같이 수정해보기로 한다.

**DataFrame의 정의 자체가 사실은 공통 인덱스를 가지는 열 시리즈(Column Series)를 딕셔너리로 묶어놓은 것일 뿐이다.** 

따라서, 커스텀 함수로 넘길 인자를 `x['team']`, `x['against']`와 같이 열 Series로 넘기면, 각 컬럼의 공통 인덱스별로 x(DataFrame의 each row)를 꺼내서 커스텀 함수를 적용하는 것이다.



### applymap함수

`applymap`함수는 DataFrame클래스의 함수이긴 하나, 위의 `apply`함수처럼 각 row(axis=1)나 각 column(axis=0)별로 작동하는 함수가 아니라, 각 요소(element)별로 작동을 한다. 



 **- 누적 합 (cumulative sums) : cumsum()**

  아래와 같이 1~10까지의 정수 벡터가 있다고 합시다. 그리고 이에 대해 오른쪽으로 하나씩 이동해가면서 누적 합을 구해보면 아래의 표와 같습니다.



 **- 누적 곱 (cumulative products) : cumprod()**

1~10까지의 정수 벡터를 가지고 누적 곱 예를 들어보겠습니다.

숫자 하나씩 오른쪽으로 이동하면서 곱해나가면 됩니다. 



 **- 누적 최소값 (cumulative minima) : cummin()**

정수 (3, 2, 1, 2, 1, 0, 4, 3, 2) 의 순서로 이루어진 벡터에 대해서 누적 최소값을 구해보겠습니다. 

오른쪽으로 하나씩 숫자를 이동하면서 과거 지나온 숫자를 기억하고 있다가, 매번 평가를 통해 가장 작은 값(cumulative minima)을 반환하게 됩니다.



 **- 누적 최대값 (cumulative maxima) : cummax()**

정수 (3, 2, 1, 2, 1, 0, 4, 3, 2) 의 순서로 이루어진 벡터에 대해서 누적 최대값을 구해보겠습니다.

오른쪽으로 하나씩 숫자를 이동하면서 과거 지나온 숫자를 기억하고 있다가, 매번 평가를 통해 가장 큰 값(cumulative maxima)을 반환하게 됩니다.

